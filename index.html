
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Grow a Business - Structures</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');

    body {
      font-family: 'Poppins', Arial, sans-serif;
      background: linear-gradient(270deg, 
        red, orange, yellow, green, blue, indigo, violet);
      background-size: 1400% 1400%;
      animation: rainbowBG 90s ease infinite;
      padding: 20px;
      margin: 0;
      color: #fff;
      min-height: 100vh;
    }
    @keyframes rainbowBG {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    h1 {
      text-align: center;
      margin-bottom: 30px;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.6);
    }

    .category-title {
      font-size: 2rem;
      font-weight: 700;
      margin: 30px 0 15px;
      background: linear-gradient(90deg, red, orange, yellow, green, blue, indigo, violet);
      background-size: 400% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: rainbowShift 8s linear infinite;
      cursor: pointer;
      user-select: none;
      text-align: center;
    }
    @keyframes rainbowShift {
      0% {background-position: 0% 0%;}
      100% {background-position: 400% 0%;}
    }

    .structures-container {
      max-width: 700px;
      margin: 0 auto 40px;
      display: none;
      flex-direction: column;
      gap: 15px;
    }
    .structures-container.active {
      display: flex;
    }

    .structure {
      display: flex;
      align-items: center;
      background-color: rgba(255, 255, 255, 0.15);
      padding: 15px 20px;
      border-radius: 15px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.3);
      backdrop-filter: blur(8px);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: default;
      gap: 20px;
    }
    .structure:hover {
      transform: scale(1.05);
      box-shadow: 0 12px 28px rgba(0,0,0,0.6);
    }

    .structure img {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      border: 3px solid transparent;
      object-fit: contain;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
      transition: border-color 0.3s ease;
      background: #222;
      flex-shrink: 0;
    }
    .structure:hover img {
      filter: drop-shadow(0 0 8px #fff);
    }

    .structure-details {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .structure-details h2 {
      margin: 0;
      font-weight: 700;
      text-shadow: 1px 1px 4px rgba(0,0,0,0.7);
    }
    .structure-details p {
      margin: 0;
      font-weight: 500;
      text-shadow: 0 0 3px rgba(0,0,0,0.6);
      font-size: 0.9rem;
    }
    .rarity {
      font-weight: 700;
      font-size: 0.9em;
      text-transform: uppercase;
      text-shadow: 0 0 4px rgba(0,0,0,0.7);
      margin-top: 4px;
      width: fit-content;
      padding: 2px 8px;
      border-radius: 12px;
      user-select: none;
    }

    /* Border and rarity color by base rarity */
    .common img {
      border-color: #808080;
    }
    .common .rarity {
      color: #808080;
      background-color: rgba(128,128,128,0.2);
    }

    .uncommon img {
      border-color: #28a745;
    }
    .uncommon .rarity {
      color: #28a745;
      background-color: rgba(40,167,69,0.2);
    }

    .rare img {
      border-color: #007bff;
    }
    .rare .rarity {
      color: #007bff;
      background-color: rgba(0,123,255,0.2);
    }

    .legendary img {
      border-color: #6f42c1;
    }
    .legendary .rarity {
      color: #6f42c1;
      background-color: rgba(111,66,193,0.2);
    }

    .mythic img {
      border-color: #dc3545;
    }
    .mythic .rarity {
      color: #dc3545;
      background-color: rgba(220,53,69,0.2);
    }

    /* Variants container */
    .variants {
      display: flex;
      gap: 12px;
      margin-top: 8px;
    }
    .variant {
      flex: 0 0 60px;
      height: 60px;
      border-radius: 50%;
      border: 3px solid transparent;
      cursor: pointer;
      position: relative;
      transition: box-shadow 0.3s ease;
      background: #222;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      box-shadow: 0 0 8px rgba(0,0,0,0.5);
    }
    .variant img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: contain;
      user-select: none;
    }
    .variant.gold {
      border-color: gold;
      box-shadow: 0 0 10px gold;
      background: #331a00;
    }
    .variant.rainbow {
      border-radius: 50%;
      background: linear-gradient(45deg,
        red, orange, yellow, green, blue, indigo, violet);
      box-shadow: 0 0 12px 3px rgba(255,255,255,0.7);
      border: none;
      position: relative;
      animation: rainbowBorder 3s linear infinite;
    }
    .variant.rainbow img {
      border-radius: 50%;
      background: #222;
      padding: 3px;
    }
    @keyframes rainbowBorder {
      0% {background-position: 0%;}
      100% {background-position: 360%;}
    }
    .variant.infernal {
      border-color: #ff3b3b;
      box-shadow: 0 0 15px 3px #ff3b3b;
      background: #330000;
    }
    .variant.oblivion {
      border-color: #8a2be2;
      box-shadow: 0 0 15px 3px #8a2be2;
      background: #200033;
    }
    .variant.selected {
      box-shadow: 0 0 18px 6px #fff !important;
    }

  </style>
</head>
<body>

  <h1>Grow a Business - Structures</h1>

  <!-- Categories toggles -->
  <div class="category-title" data-target="common">Common Structures</div>
  <div id="common" class="structures-container"></div>

  <div class="category-title" data-target="uncommon">Uncommon Structures</div>
  <div id="uncommon" class="structures-container"></div>

  <div class="category-title" data-target="rare">Rare Structures</div>
  <div id="rare" class="structures-container"></div>

  <div class="category-title" data-target="legendary">Legendary Structures</div>
  <div id="legendary" class="structures-container"></div>

  <div class="category-title" data-target="mythic">Mythical Structures</div>
  <div id="mythic" class="structures-container"></div>

<script>
  // Data as given
  const structures = [
    // COMMON
    {
      name: "Noob Employee",
      img: "m.png",
      price: 30,
      money: 1,
      time: 2,
      rarity: "common"
    },
    {
      name: "Business Man",
      img: "Business Man.png",
      price: 200,
      money: 5,
      time: 4,
      rarity: "common"
    },
    {
      name: "Teacher",
      img: "teacher.png",
      price: 500,
      money: 10,
      time: 5,
      rarity: "common"
    },

    // UNCOMMON
    {
      name: "Gardener",
      img: "Gardener.png",
      price: 1200,
      money: 20,
      time: 8,
      rarity: "uncommon"
    },
    {
      name: "Painter",
      img: "Painter.png",
      price: 3500,
      money: 75,
      time: 10,
      rarity: "uncommon"
    },
    {
      name: "Chef",
      img: "Chef.png",
      price: 8000,
      money: 105,
      time: 10,
      rarity: "uncommon"
    },

    // RARE
    {
      name: "Mine",
      img: "Mine.png",
      price: 15000,
      money: 189,
      time: 12,
      rarity: "rare"
    },
    {
      name: "Fortune Magician",
      img: "Fortune Magician.png",
      price: 45000,
      money: 450,
      time: 15,
      rarity: "rare"
    },

    // LEGENDARY
    {
      name: "Bank",
      img: "Bank.png",
      price: 200000,
      money: 1500,
      time: 20,
      rarity: "legendary"
    },
    {
      name: "Skyscraper",
      img: "Skyscraper.png",
      price: 750000,
      money: 4500,
      time: 35,
      rarity: "legendary"
    },

    // MYTHIC
    {
      name: "Stadium",
      img: "Stadium.png",
      price: 2500000,
      money: 16000,
      time: 35,
      rarity: "mythic"
    },
    {
      name: "Waterpark",
      img: "Waterpark.png",
      price: 10000000,
      money: 60000,
      time: 45,
      rarity: "mythic"
    },
    {
      name: "Castle",
      img: "Castle.png",
      price: 150000000,
      money: 250000,
      time: 40,
      rarity: "mythic"
    },
  ];

  // Multipliers for variants (only money, price stays)
  const variants = [
    { key: "base", label: "Base", multiplier: 1, color: "", textColor: "#fff" },
    { key: "gold", label: "Gold", multiplier: 1.5, color: "gold", textColor: "#000" },
    { key: "rainbow", label: "Rainbow", multiplier: 2, color: "rainbow", textColor: "#000" },
    { key: "infernal", label: "Infernal", multiplier: 3, color: "#ff3b3b", textColor: "#000" },
    { key: "oblivion", label: "Oblivion", multiplier: 4, color: "#8a2be2", textColor: "#fff" },
  ];

  // Helper to format numbers with commas
  function formatNumber(n) {
    return n.toLocaleString(undefined, { maximumFractionDigits: 2 });
  }

  // Calculate money/sec (money/time)
  function moneyPerSec(money, time) {
    return money / time;
  }

  // Create structure element with variants toggle
  function createStructureElement(structure) {
    const container = document.createElement("div");
    container.classList.add("structure", structure.rarity);

    // Main image + details container
    const mainImg = document.createElement("img");
    mainImg.src = structure.img;
    mainImg.alt = structure.name;

    const details = document.createElement("div");
    details.classList.add("structure-details");

    // Title
    const title = document.createElement("h2");
    title.textContent = structure.name;
    details.appendChild(title);

    // Base price
    const priceP = document.createElement("p");
    priceP.textContent = `Price: $${formatNumber(structure.price)}`;
    details.appendChild(priceP);

    // Container for money/time/money/sec, updated on variant select
    const moneyP = document.createElement("p");
    moneyP.classList.add("money-earned");
    const timeP = document.createElement("p");
    timeP.textContent = `Time: ${structure.time} seconds`;
    details.appendChild(timeP);
    details.appendChild(moneyP);

    // Rarity label
    const rarityLabel = document.createElement("div");
    rarityLabel.classList.add("rarity");
    rarityLabel.textContent = structure.rarity.toUpperCase();
    details.appendChild(rarityLabel);

    // Variants container
    const variantsContainer = document.createElement("div");
    variantsContainer.classList.add("variants");

    // Create variant buttons
    variants.forEach(v => {
      const vbtn = document.createElement("div");
      vbtn.classList.add("variant");
      if (v.key !== "base") vbtn.classList.add(v.key);
      if (v.key === "base") vbtn.classList.add("selected");
      vbtn.title = v.label;

      // Variant image same as main
      const vimg = document.createElement("img");
      vimg.src = structure.img;
      vimg.alt = `${structure.name} ${v.label}`;

      vbtn.appendChild(vimg);
      variantsContainer.appendChild(vbtn);

      // Click to select variant
      vbtn.addEventListener("click", () => {
        // Remove selected from siblings
        Array.from(variantsContainer.children).forEach(sib => sib.classList.remove("selected"));
        vbtn.classList.add("selected");
        // Update money earned text with multiplier
        const earned = structure.money * v.multiplier;
        moneyP.textContent = `Money Earned: $${formatNumber(earned)} (${formatNumber(moneyPerSec(earned, structure.time))} / sec)`;
      });
    });

    details.appendChild(variantsContainer);
    container.appendChild(mainImg);
    container.appendChild(details);

    // Set initial money earned for base variant
    moneyP.textContent = `Money Earned: $${formatNumber(structure.money)} (${formatNumber(moneyPerSec(structure.money, structure.time))} / sec)`;

    return container;
  }

  // Fill each category container with its structures
  const categories = ["common", "uncommon", "rare", "legendary", "mythic"];
  categories.forEach(cat => {
    const container = document.getElementById(cat);
    const filtered = structures.filter(s => s.rarity === cat);
    filtered.forEach(s => container.appendChild(createStructureElement(s)));
  });

  // Category toggling logic
  const categoryTitles = document.querySelectorAll(".category-title");
  function activateCategory(targetId) {
    categoryTitles.forEach(t => t.classList.remove("active"));
    categoryTitles.forEach(t => {
      if (t.dataset.target === targetId) {
        t.classList.add("active");
      }
    });

    categories.forEach(cat => {
      const c = document.getElementById(cat);
      if (cat === targetId) {
        c.classList.add("active");
      } else {
        c.classList.remove("active");
      }
    });
  }

  categoryTitles.forEach(title => {
    title.addEventListener("click", () => {
      activateCategory(title.dataset.target);
    });
  });

  // Show first category by default
  activateCategory("common");

</script>

</body>
</html>
